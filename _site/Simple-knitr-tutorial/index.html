<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.4.1 by Michael Rose
  Copyright 2017 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin SEO -->









<title>Simple Knitr Tutorial -</title>




<meta name="description" content="What is knitr?">




<meta name="author" content="Alastair Rushworth">

<meta property="og:locale" content="en">
<meta property="og:site_name" content="">
<meta property="og:title" content="Simple Knitr Tutorial">


  <link rel="canonical" href="http://localhost:4000/Simple-knitr-tutorial/">
  <meta property="og:url" content="http://localhost:4000/Simple-knitr-tutorial/">



  <meta property="og:description" content="What is knitr?">





  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2013-09-13T00:00:00+01:00">








  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Alastair Rushworth",
      "url" : "http://localhost:4000",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title=" Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->

<meta http-equiv="cleartype" content="on">
    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="http://localhost:4000/"></a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/aboutme/">About me</a></li>
          
        </ul>
        <button><div class="navicon"></div></button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="http://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
          <a href="http://localhost:4000/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">Simple Knitr Tutorial</li>
      
    
  </ol>
</nav>
  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  

<div itemscope itemtype="http://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="http://localhost:4000/assets/images/bio-photo.jpg" class="author__avatar" alt="Alastair Rushworth" itemprop="image">
      
    </div>
  

  <div class="author__content">
    <h3 class="author__name" itemprop="name">Alastair Rushworth</h3>
    
      <p class="author__bio" itemprop="description">
        Data scientist
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="http://schema.org/Place">
          <i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> <span itemprop="name">Edinburgh, UK</span>
        </li>
      

      

      
        <li>
          <a href="mailto:alastairmrushworth@gmail.com">
            <meta itemprop="email" content="alastairmrushworth@gmail.com" />
            <i class="fa fa-fw fa-envelope-square" aria-hidden="true"></i> Email
          </a>
        </li>
      

      

      
        <li>
          <a href="https://twitter.com/rushworth_a" itemprop="sameAs">
            <i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter
          </a>
        </li>
      

      

      

      

      

      

      

      

      
        <li>
          <a href="https://github.com/alastairrushworth" itemprop="sameAs">
            <i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs">
      <i class="fa fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Simple Knitr Tutorial">
    <meta itemprop="description" content="What is knitr?">
    <meta itemprop="datePublished" content="September 13, 2013">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Simple Knitr Tutorial
</h1>
          
            <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 




  3 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        <h3 id="what-is-knitr">What is knitr?</h3>

<p>Knitr <a href="http://yihui.name/knitr/">http://yihui.name/knitr/</a> is an <code class="highlighter-rouge">R</code> package that allows straightforward integration of R code for writing reports and is developed by Yihui Xie. It is very powerful, much easier to get started with than Sweave and has potentially a lot of uses. My interest in lies in how easy it is to save the results of an analysis and use them in different documents types with little extra effort – for example including the same plots and tables in papers and in talk slides. Better yet, it all works in RStudio without the need for calling any additional commands to produce the PDFs (assuming you can already compile .tex documents in RStudio).</p>

<p>This mini tutorial is very basic and makes use of RStudio, and highlights a selection the main features in knitr, but hopefully illustrates how easy they are to use. Yihui’s website and resources therein are great for info on all of the full capabilities of knitr, the manual is here <a href="http://yihui.name/knitr/demo/manual/">http://yihui.name/knitr/demo/manual/</a>. The LateX code below can be download from here: testKnitr.Rnw. To compile this using RStudio’s “Compile PDF” button, you might have to first set “RStudio -&gt; Tools -&gt; Options -&gt; Sweave -&gt; weave Rnw files using” to “knitr”. Also make sure you have the R package <code class="highlighter-rouge">knitr</code> installed too!</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">\documentclass</span><span class="p">{</span>article<span class="p">}</span>

<span class="nt">\begin{document}</span>

<span class="k">\section*</span><span class="p">{</span><span class="k">\textbf</span><span class="p">{</span>0 to knitr in 60 seconds<span class="p">}}</span>

<span class="k">\noindent</span> All code in <span class="k">\texttt</span><span class="p">{</span>knitr<span class="p">}</span> is run in grouped 'chunks' of
code that perform specific parts of the analysis. Typically an
analysis might start with loading packages, and so the following
chunk does that.

&lt;&lt;loadPackages&gt;&gt;=
library(xtable)
@

<span class="k">\noindent</span> Inside the <span class="nb">\verb</span><span class="kp">+</span><span class="sx">&lt;&lt;...&gt;&gt;=</span><span class="kp">+</span>, options can be set that
control how and what is to be displayed within the chunk. In this
case, the only thing provided is the chunk name that has been set
to <span class="k">\texttt</span><span class="p">{</span>loadPackages<span class="p">}</span>', although chunk names are not strictly
required.<span class="k">\\</span>

<span class="k">\noindent</span> Next, some data is generated and a linear model is
fitted. The chunk will be called <span class="k">\texttt</span><span class="p">{</span>doLinearModel<span class="p">}</span>.

&lt;&lt;doLinearModel, cache = TRUE&gt;&gt;=
x&lt;-rnorm(100)
y&lt;-3*x + 0.5 + rnorm(100)
lm1&lt;-lm(y~x)
@

<span class="k">\noindent</span> The <span class="k">\texttt</span><span class="p">{</span>cache = TRUE<span class="p">}</span> option tell knitr that you want
 to store the results of the R code inside the chunk. This will
result in a new directory called 'cache' being created inside the
current working directory where all of the chunk data will be put.
 When the document is subsequently compiled again, the cached R
data will be used provided that neither the chunk contents or
options have not changed since the last compile. If any changes
have been made, the cache will be rebuilt. <span class="k">\textbf</span><span class="p">{</span>Important note<span class="p">}</span>:
 <span class="k">\textit</span><span class="p">{</span>any<span class="p">}</span> small change to a chunk (including insertion of space
s) will result in cache rebuilds, so it is important to avoid
making accidental changes to time consuming chunks. We can evaluate
 R objects and perform simple operations in the text body, for exam
ple the largest values of <span class="k">\texttt</span><span class="p">{</span>x<span class="p">}</span> using <span class="k">\Sexpr</span><span class="p">{</span>max(x)<span class="p">}</span>.<span class="k">\\</span>

<span class="k">\noindent</span> Plotting in <span class="k">\texttt</span><span class="p">{</span>knitr<span class="p">}</span> is straightforward:

&lt;&lt;plotLinearModel, dependson ='doLinearModel', cache = TRUE&gt;&gt;=
plot(y~x)
abline(lm1)
@

<span class="k">\noindent</span> This chunk will print a plot. Note the addition of the
option dependson = 'doLinearModel' - this option indicates that
some of the objects in plotLinearModel were created or modified
by the doLinearModel chunk. If changes are made to doLinearModel,
then the the plotLinearModel cache will be rebuilt too - this way,
each time code changes are made, the changes propagate through
subsequent pieces of code that depend on the modifications. The
plotting command have been placed in a seperate chunk from the
linear model fitting so that changes can be made to the plotting
code without affecting the cache that contains <span class="k">\texttt</span><span class="p">{</span>x<span class="p">}</span> and
<span class="k">\texttt</span><span class="p">{</span>y<span class="p">}</span> (this very important if the code in doLinearModel
takes a while to execute). The cached plots are saved into a
separate cache directory called 'figure'.<span class="k">\\</span>

&lt;&lt;tableCoefficients, dependson ='doLinearModel', echo = FALSE, results = 'asis', cache = TRUE&gt;&gt;=
print(xtable(summary(lm1)<span class="p">$</span><span class="nb">coefficients, align </span><span class="o">=</span><span class="nb"> 'l|cccc', digits </span><span class="o">=</span><span class="nb"> </span><span class="m">3</span><span class="o">))</span><span class="nb">
@

</span><span class="nv">\noindent</span><span class="nb"> This final chunk will produce a table. Because printing
an </span><span class="nv">\texttt</span><span class="p">{</span><span class="nb">xtable</span><span class="p">}</span><span class="nb"> object results in a bit of latex code, we need
to supply the option results </span><span class="o">=</span><span class="nb"> 'asis' to tell knitr to treat the
output as such. Note in this chunk we have suppressed the printing
of the code by using the echo </span><span class="o">=</span><span class="nb"> FALSE argument.

</span><span class="nv">\end</span><span class="p">{</span><span class="nb">document</span><span class="p">}</span><span class="nb">
</span></code></pre>
</div>

        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2013-09-13T00:00:00+01:00">September 13, 2013</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Simple Knitr Tutorial http://localhost:4000/Simple-knitr-tutorial/" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/Simple-knitr-tutorial/" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=http://localhost:4000/Simple-knitr-tutorial/" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/Simple-knitr-tutorial/" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="http://localhost:4000/Useful-Rcpp-Links-and-Resources/" class="pagination--pager" title="Useful Rcpp Links And Resources
">Previous</a>
    
    
      <a href="http://localhost:4000/Sparse-b-spline-basis-matrix-in-R/" class="pagination--pager" title="Sparse B Spline Basis Matrix In R
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
    
    
      <li><a href="http://github.com/alastairrushworth"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="http://localhost:4000/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2017 Alastair Rushworth. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>
      </footer>
    </div>

    <script src="http://localhost:4000/assets/js/main.min.js"></script>





  </body>
</html>
